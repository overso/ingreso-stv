{"version":3,"sources":["reducers/MoviesReducer.js","reducers/index.js","actions/types.js","components/MovieResultRow.js","components/MovieResults.js","components/SearchInput.js","components/Logo.js","MovieList.js","actions/MoviesAction.js","components/Genres.js","components/Talent.js","components/Roles.js","components/TitleDetail.js","MovieDetail.js","index.js"],"names":["INITIAL_STATE","data","filteredMovies","selectedMovie","error","fetchingMovies","combineReducers","movies","state","action","type","payload","MovieResultsRow","to","this","props","id","alt","title","src","image","className","PureComponent","MovieResults","map","movie","key","image_small","SearchInput","handleChange","event","textChange","onChange","Logo","MovieList","handleSearchChange","filterMovie","target","value","fetchMovies","mapDispatchToPropsParam","dispatch","a","fetch","method","response","json","resp","msg","groups","searchText","maxResults","filter","toLowerCase","includes","slice","connect","Genres","genres","genre","desc","Talent","name","talents","talent","fullname","Roles","roles","rol","TitleDetail","publishyear","duration","ratingCode","MovieDetail","movieId","match","params","detailMovie","image_medium","image_small_alt","extendedcommon","media","rating","code","role","originaltitle","url","group","common","store","createStore","reducers","applyMiddleware","ReduxThunk","ReactDOM","render","path","component","exact","document","getElementById"],"mappings":"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","file":"static/js/main.1bdb53ab.chunk.js","sourcesContent":["import {\n    ADD_MOVIES_STARTED,\n    ADD_MOVIES_FETCHED,\n    ADD_MOVIES_ERROR,\n    FILTERED_MOVIES,\n    DETAIL_MOVIE_STARTED,\n    DETAIL_MOVIE,\n    DETAIL_MOVIE_ERROR\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n    data: [],\n    filteredMovies: [],\n    selectedMovie: null,\n    error: null,\n    fetchingMovies: false\n};\n\nexport default (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case ADD_MOVIES_STARTED:\n            return { ...state, fetchingMovies: true };\n        case ADD_MOVIES_FETCHED:\n            return { ...state, data: action.payload, filteredMovies: action.payload, fetchingMovies: false };\n        case ADD_MOVIES_ERROR:\n            return { ...state, data: [], filteredMovies: [], selectedMovie: null, fetchingMovies: false, error: action.payload };\n        case FILTERED_MOVIES:\n            return { ...state, filteredMovies: action.payload };\n        case DETAIL_MOVIE_STARTED:\n            return { ...state, fetchingMovies: true };\n        case DETAIL_MOVIE:\n            return { ...state, selectedMovie: action.payload };\n        case DETAIL_MOVIE_ERROR:\n            return { ...state, error: action.payload };\n        default:\n            return state;\n    }\n};","import { combineReducers } from 'redux';\nimport movies from './MoviesReducer';\n\nexport default combineReducers({ movies });","export const ADD_MOVIES_STARTED = 'add_movies_started';\nexport const ADD_MOVIES_FETCHED = 'add_movies_fetched';\nexport const ADD_MOVIES_ERROR = 'add_movies_error';\nexport const FILTERED_MOVIES = 'filtered_movies';\nexport const DETAIL_MOVIE_STARTED = 'detail_movie_started';\nexport const DETAIL_MOVIE = 'detail_movie';\nexport const DETAIL_MOVIE_ERROR = 'detail_movie_error';","import React, { PureComponent } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class MovieResultsRow extends PureComponent {\n    render() {\n        return (\n            <Link to={`/movies/${this.props.id}`}>\n                <img alt={this.props.title} src={this.props.image} className=\"imgHorizontal\" />\n            </Link>\n        );\n    }\n}","import React from \"react\";\nimport MovieResultRow from \"./MovieResultRow\";\n\nconst MovieResults = props => {\n    return (\n        <div className=\"rowContainer\">\n            {props.movies.map(movie => (\n                <MovieResultRow\n                    key={movie.id}\n                    image={movie.image_small}\n                    title={movie.title}\n                    id={movie.id}\n                />\n            ))}\n        </div>\n    )\n}\nexport default MovieResults;","import React, { PureComponent } from \"react\";\n\nexport default class SearchInput extends PureComponent {\n\n    handleChange = event => {\n        this.props.textChange(event);\n    };\n\n    render() {\n        return (\n            <div className=\"searchInput\">\n                <span className=\"inputTitle\">Buscar</span> <input onChange={this.handleChange} className=\"inputText\"/>\n            </div>\n        );\n    }\n}","import React from \"react\";\n\nconst Logo = props => {\n    return (\n        <img src={props.src} className=\"logo\" alt={props.alt} />\n    )\n}\n\nexport default Logo;","import React, { PureComponent } from 'react';\nimport MovieResults from \"./components/MovieResults\";\nimport SearchInput from \"./components/SearchInput\";\nimport Logo from \"./components/Logo\";\nimport { connect } from 'react-redux';\nimport { fetchMovies, filterMovie } from './actions';\nimport './App.css';\n\nclass MovieList extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.props.fetchMovies();\n  }\n\n  handleSearchChange = event => {\n    const data = this.props.movies ? this.props.movies.data : [];\n    this.props.filterMovie(data, event.target.value, 40);\n  };\n\n  render() {\n    return (\n      <div>\n        <Logo \n          src=\"https://www.clarovideo.com/webclient/sk_core/images/clarovideo-logo-sitio.svg\"\n          alt=\"ClaroVideo\"\n        />\n        <SearchInput textChange={this.handleSearchChange} />\n        <MovieResults movies={this.props.movies ? this.props.movies.filteredMovies : []}/>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ movies }) => ({ movies });\nconst mapDispatchToPropsParam = { fetchMovies, filterMovie };\n\nexport default connect(mapStateToProps, mapDispatchToPropsParam)(MovieList);\n","import {\n    ADD_MOVIES_STARTED,\n    ADD_MOVIES_FETCHED,\n    ADD_MOVIES_ERROR,\n    FILTERED_MOVIES,\n    DETAIL_MOVIE_STARTED,\n    DETAIL_MOVIE,\n    DETAIL_MOVIE_ERROR\n} from './types';\n\nconst ENDPOINT_LIST = \"https://mfwkweb-api.clarovideo.net/services/content/list?quantity=40&order_way=DESC&order_id=200&level_id=GPS&from=0&node_id=43861&region=mexico&api_version=v5.86&authpn=webclient&authpt=tfg1h3j4k6fd7&format=json&region=mexico&device_id=web&device_category=web&device_model=web&device_type=web&device_manufacturer=generic&HKS=9s5hqq76r3g6sg4jb90l38us52\";\n\nexport const fetchMovies = () => async dispatch => {\n    dispatch({ type: ADD_MOVIES_STARTED });\n    try {\n        const response = await fetch(ENDPOINT_LIST, { method: 'GET' });\n        const resp = await response.json();\n        if (resp.msg === 'OK') {\n            dispatch({ type: ADD_MOVIES_FETCHED, payload: resp.response.groups });\n        }\n    } catch (err) {\n        dispatch({ type: ADD_MOVIES_ERROR, payload: err });\n    }\n};\n\nexport const filterMovie  = (movies, searchText, maxResults) => async dispatch => {\n    const data = movies.filter(movie => {\n      if (movie.title.toLowerCase().includes(searchText.toLowerCase())) {\n        return true;\n      }\n      return false;\n    }).slice(0, maxResults);\n    dispatch({ type: FILTERED_MOVIES, payload: data });\n};\n\nexport const detailMovie  = (id) => async dispatch => {\n    dispatch({ type: DETAIL_MOVIE_STARTED });\n    const url = `https://mfwkweb-api.clarovideo.net/services/content/data?device_id=web&device_category=web&device_model=web&device_type=web&format=json&device_manufacturer=generic&authpn=webclient&authpt=tfg1h3j4k6fd7&api_version=v5.86&region=mexico&HKS=9s5hqq76r3g6sg4jb90l38us52&user_id=22822863&group_id=${id}`;\n    try {\n        const response = await fetch(url, { method: 'GET' });\n        const resp = await response.json();\n        if (resp.msg === 'OK') {\n            dispatch({ type: DETAIL_MOVIE, payload: resp.response.group.common });\n        }\n    } catch (err) {\n        dispatch({ type: DETAIL_MOVIE_ERROR, payload: err });\n    }\n};","import React from \"react\";\n\nconst Genres = props => {\n    return (\n        <div className=\"genresContainer\">\n            Género: {props.genres.map(genre => (\n                <span key={genre.id}>{genre.desc}</span>\n            ))}\n        </div>\n    )\n}\n\nexport default Genres;","import React from \"react\";\n\nconst Talent = props => {\n    return (\n        <div className=\"talentContainer\">\n            {props.name}: {props.talents.map(talent => (\n                <span key={talent.id} className=\"talent\">{talent.fullname}</span>\n            ))}\n        </div>\n    )\n}\n\nexport default Talent;","import React from \"react\";\nimport Talent from \"./Talent\";\n\nconst Roles = props => {\n    return (\n        <div className=\"rolesContainer\">\n            {props.roles.map(rol => (\n                <Talent key={rol.id} name={rol.desc} talents={rol.talents.talent} />\n            ))}\n        </div>\n    )\n}\n\nexport default Roles;\n","import React from \"react\";\n\nconst TitleDetail = props => {\n    return (\n        <div className=\"titleContainer\">\n            <h3>{props.title}</h3>\n            <span>({props.publishyear})</span>\n            <span>{props.duration}</span>\n            <span>{props.ratingCode}</span>\n        </div>\n    )\n}\n\nexport default TitleDetail;","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { detailMovie } from './actions';\nimport Genres from \"./components/Genres\";\nimport Roles from \"./components/Roles\";\nimport TitleDetail from \"./components/TitleDetail\";\nimport { Link } from \"react-router-dom\";\n\nclass MovieDetail extends PureComponent {\n  constructor(props) {\n    super(props);\n    const { movieId } = this.props.match.params\n    this.props.detailMovie(movieId);\n  }\n\n\n  render() {\n    if (!this.props.movies.selectedMovie) {\n        return <div><h1>Cargando ...</h1></div>;\n    }\n    const { selectedMovie } = this.props.movies;\n    return (\n        <div className=\"wrapper\">\n            <div className=\"box header\">\n                <Link to={`/movies/`}><h2>regresar</h2></Link>\n                <h2>{selectedMovie.title}</h2>\n            </div>\n            <div className=\"box sidebar\"><img src={selectedMovie.image_medium} alt={selectedMovie.image_small_alt} /></div>\n            <div className=\"box content\">\n                <TitleDetail \n                    title={selectedMovie.title}\n                    publishyear={selectedMovie.extendedcommon.media.publishyear} \n                    ratingCode={selectedMovie.extendedcommon.media.rating.code}\n                    duration={selectedMovie.extendedcommon.media.duration}\n                />\n                <Genres genres={selectedMovie.extendedcommon.genres.genre}/>\n                <Roles roles={selectedMovie.extendedcommon.roles.role} />\n                Título Original: {selectedMovie.extendedcommon.media.originaltitle}\n            </div>\n        </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ movies }) => ({ movies });\nconst mapDispatchToPropsParam = { detailMovie };\n\nexport default connect(mapStateToProps, mapDispatchToPropsParam)(MovieDetail);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter, Switch, Route } from \"react-router-dom\"\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport ReduxThunk from 'redux-thunk';\nimport reducers from './reducers';\nimport './index.css';\nimport MovieList from \"./MovieList\"\nimport MovieDetail from \"./MovieDetail\"\n\nconst store = createStore(reducers, {}, applyMiddleware(ReduxThunk));\nconst App = () => (\n  <HashRouter>\n    <Switch>\n      <Route path=\"/movies\" component={MovieList} exact />\n      <Route path=\"/movies/:movieId\" component={MovieDetail} exact />\n    </Switch>\n  </HashRouter>\n);\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n"],"sourceRoot":""}